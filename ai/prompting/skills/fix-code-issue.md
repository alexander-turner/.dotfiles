Please analyze and fix the issue: $ARGUMENTS.

Follow these steps:

1. Understand the problem described in the issue
2. Search the codebase for relevant files
3. Implement the necessary changes to fix the issue
4. Write and run tests to verify the fix. Ensure tests are compact and use existing utilities when possible
5. Ensure code passes linting and type checking
6. Create a descriptive commit message
